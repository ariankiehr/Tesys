<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Telemetrical System</title>
    <meta name="generator" content="Bootply" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="css/styles.css" rel="stylesheet">
  </head>
  <body id="body">


    <script data-main="js/boot-index.js" src="js/libs/require.js"></script>


   	<script type="text/javascript" src="js/libs/jquery-1.7.1.min.js"></script>
   	<script type="text/javascript" src="js/libs/tablesorter/jquery.tablesorter.js"></script>


	<script>
		$(document).ready(function() {
			$("#recom").click(function(e) {
				$("#div-test").prop("style", "display:none");
				document.getElementById("div-table").style.display = "block"
				return false;
			});
			
			$("#test").click(function(e) {
				$("#div-table").prop("style", "display:none");
				document.getElementById("div-test").style.display = "block"
				return false;
			});
			
			
			//ordena
			$("myTable").tablesorter();
			//cuando se pide la recomendacion
			$("#ajax-append").click(
					function() {
						document.getElementById("met").textContent=document.getElementById("metric").value;
						
						$("#myTable tbody tr").remove();
						$("#myTable").trigger("update");
						$.get("rest/controller/getdevtask/" +
								document.getElementById("issue").value +
								"/" +
								document.getElementById("metric").value, function(
								response) {
							
							// $("#table_of_items tr").remove(); 
							$.each(response, function(i, item) {
								$('<tr>').append(
										$('<td>').text(item.developerName+" ("+item.developer+")"),
										$('<td>').text(item.metric),
										$('<td>').text(item.trust),
										$('<td>').text(item.similarity))
										.appendTo('#myTable');
							});
							$("#myTable").trigger("update");
							$("#myTable").tablesorter({
								sortList : [ [ 0, 0 ] ]
							});
							$("#myTable").trigger("update");
							
						});
						return false;
					});

		});
	</script>

	<!-- Header -->
	<div id="top-nav" class="navbar navbar-inverse navbar-static-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target=".navbar-collapse">
					<span class="icon-toggle"></span>
				</button>
				<a class="navbar-brand" href="#">Control Panel</a>
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav navbar-nav navbar-right">

					<li class="dropdown"><a class="dropdown-toggle" role="button"
						data-toggle="dropdown" href="#"> <i
							class="glyphicon glyphicon-user"></i> Admin <span class="caret"></span></a>
						<ul id="g-account-menu" class="dropdown-menu" role="menu">
							<li><a href="#">My Profile</a></li>
							<li><a href="#"><i class="glyphicon glyphicon-lock"></i>
									Logout</a></li>
						</ul></li>
				</ul>
			</div>
		</div>
		<!-- /container -->
	</div>
	<!-- /Header -->

	<!-- Main -->
	<div class="container">
		<!-- upper section -->
		<div class="row">
			<div class="col-sm-3">
				<!-- left -->
				<h3>
					<i class="glyphicon glyphicon-briefcase"></i> Toolbox
				</h3>
				<hr>

				<ul class="nav nav-stacked">
					<li><a href="#" id="recom"><i
							class="glyphicon glyphicon-flash"></i> Recomendaciones</a></li>
					<li><a href="#" id="test""><i
							class="glyphicon glyphicon-link"></i> Links</a></li>
					<li><a href="javascript:;"><i
							class="glyphicon glyphicon-list-alt"></i> Reports</a></li>
					<li><a href="javascript:;"><i
							class="glyphicon glyphicon-book"></i> Books</a></li>
					<li><a href="javascript:;"><i
							class="glyphicon glyphicon-briefcase"></i> Tools</a></li>
					<li><a href="javascript:;"><i
							class="glyphicon glyphicon-time"></i> Real-time</a></li>
					<li><a href="javascript:;"><i
							class="glyphicon glyphicon-plus"></i> Advanced..</a></li>
				</ul>

				<hr>

			</div>
			<!-- /span-3 -->
			<div class="col-sm-9">

				<!-- column 2 -->
				<h3>
					<i class="glyphicon glyphicon-dashboard"></i> Dashboard
				</h3>

				<hr>

				<div class="row">
					<!-- center left-->
					<div id="default-dash" class="col-md-12">

						<!-- TABLA RECOMENDACION-->
						<div id="div-table" style="display: none">
							<div class="well">
								<table>
									<tr>
										<th>Tarea del JIRA:</th>
										<th><input type="text" id="issue" /></th>
										<th>Metrica:</th>
										<th><input type="text" id="metric" /></th>
										<th><form action="">
												<input type="submit" id="ajax-append" size="100"
													value="Recomendar">
											</form></th>
									</tr>
								</table>
							</div>
							<table id="myTable" class="tablesorter">
								<thead>
									<tr>
										<th>Desarrollador</th>
										<th id="met">Metrica</th>
										<th>Cantidad de tareas similares</th>
										<th>Nivel de similitud de las tareas</th>
									</tr>
								</thead>
								<tbody>
								</tbody>
							</table>
						</div>
						<!-- FIN TABLA RECOMENDACION-->
						<!-- TEST-->
						<div id="div-test">
							<div class="well">
								Inbox Messages <span class="badge pull-right">3</span>
							</div>
							<hr>
							<div class="panel panel-default">
								<div class="panel-heading">
									<h4>Processing Status</h4>
								</div>
								<div class="panel-body">

									<small>Complete</small>
									<div class="progress">
										<div class="progress-bar progress-bar-success"
											role="progressbar" aria-valuenow="72" aria-valuemin="0"
											aria-valuemax="100" style="width: 72%">
											<span class="sr-only">72% Complete</span>
										</div>
									</div>
									<small>In Progress</small>
									<div class="progress">
										<div class="progress-bar progress-bar-info" role="progressbar"
											aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"
											style="width: 20%">
											<span class="sr-only">20% Complete</span>
										</div>
									</div>
									<small>At Risk</small>
									<div class="progress">
										<div class="progress-bar progress-bar-danger"
											role="progressbar" aria-valuenow="80" aria-valuemin="0"
											aria-valuemax="100" style="width: 80%">
											<span class="sr-only">80% Complete</span>
										</div>
									</div>

								</div>
								<!--/panel-body-->
							</div>
							<!--/panel-->
						</div>
						<!--FIN TEST-->

					</div>
					<!--/col-->
				</div>
				<!--/row-->
				<hr>
			</div>
			<!--/col-span-9-->
		</div>
		<!--/row-->
		<!-- /upper section -->
		<div id="MainMenu" class="col-md-3">
			<div class="list-group panel panel-default">
				<div class="panel-heading">
					<h4>Developers</h4>
				</div>
				<div class="panel-body" style="overflow-y: auto; height: 200px;"
					id="developers-issues"></div>
			</div>
		</div>


	</div>

	<!-- /Main -->

    <!--footer class="text-center">Telemetrical System</footer-->




  </body>
</html>
