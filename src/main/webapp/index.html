<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Telemetrical System</title>
    <meta name="generator" content="Bootply" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="css/styles.css" rel="stylesheet">
  </head>
  <body id="body">
  
    <script data-main="js/boot-index.js" src="js/libs/require.js"></script>
   	<script type="text/javascript" src="js/libs/jquery-1.7.1.min.js"></script>
   	<script type="text/javascript" src="js/libs/tablesorter/jquery.tablesorter.js"></script>
   	

	<script>
		$(document).ready(function() {
			$("#recom").click(function(e) {
				$("#div-test").prop("style", "display:none");
				document.getElementById("div-table").style.display = "block"
				return false;
			});
			
			$("#test").click(function(e) {
				$("#div-table").prop("style", "display:none");
				document.getElementById("div-test").style.display = "block"
				return false;
			});
			
			
			//ordena
			$("myTable").tablesorter();
			//cuando se pide la recomendacion
			$("#ajax-append").click(
					function() {
						document.getElementById("met").textContent=document.getElementById("metric").value;
						
						$("#myTable tbody tr").remove();
						$("#myTable").trigger("update");
						$.get("rest/controller/getdevtask/" +
								document.getElementById("issue").value +
								"/" +
								document.getElementById("metric").value, function(
								response) {
							
							// $("#table_of_items tr").remove(); 
							$.each(response, function(i, item) {
								$('<tr>').append(
										$('<td>').text(item.developerName+" ("+item.developer+")"),
										$('<td>').text(item.metric),
										$('<td>').text(item.trust),
										$('<td>').text(item.similarity))
										.appendTo('#myTable');
							});
							$("#myTable").trigger("update");
							$("#myTable").tablesorter({
								sortList : [ [ 0, 0 ] ]
							});
							$("#myTable").trigger("update");
							
						});
						return false;
					});

		});
	</script>

    <!-- Header -->
    <div id="top-nav" class="navbar navbar-inverse navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="icon-toggle"></span>
          </button>
          <a class="navbar-brand" href="#">Control Panel</a>
        </div>
      </div><!-- /container -->
    </div>
    <!-- /Header -->


    <!-- Main -->
    <div class="container">
      <div class="row">
      <!--Developers list -->
        <div id="MainMenu" class="col-md-3">
          <div class="list-group panel panel-default">
            <div class="panel-heading"><h4><i class="glyphicon glyphicon-user"></i> Developers</h4></div>
            <div class="panel-body" style="overflow-y: auto; height:400px;" id="developers-issues"></div>
          </div>
        </div>
      <!--/Developers list-->

      <!--tabs-->
      <div class="col-md-8">
        <ul class="nav nav-tabs" id="myTab">
          <li class="active"><a href="#metricPane" data-toggle="tab">Metrics</a></li>
          <li><a href="#skillPane" data-toggle="tab">Skills</a></li>
        </ul>
        
        <div class="tab-content">
          <!--TODO meter mas distancia aca-->
          <div class="tab-pane active panel-body" id="metricPane">
            <!--contenido de un panel-->
            <div class="col-md-4" style="overflow-y: auto; height:400px;">
              <ul class="nav nav-stacked" id="metrics">
                <!--li><a> Metric 1 </a></li-->
              </ul>
            </div>
            <div id="metricChart" style="height: 400px;"></div>
          </div>
          <!--/contenido de un panel-->
          <div class="tab-pane panel-body" id="skillPane">
            <div class="col-md-4" style="overflow-y: auto; height:400px;">
              <ul class="nav nav-stacked" id="skills">
                <!--li><a> skill 1 </a></li-->
              </ul>
            </div>
            <div id="skillChart" style="height: 400px;"></div>
          </div>
        </div>
      </div>
      <!--/tabs-->

      </div>
    </div><!--/container-->
    <!-- /Main -->

  </body>
</html>
